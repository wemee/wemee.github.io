---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Navbar from '@/components/Navbar.astro';
---
<BaseLayout title="最小公倍數計算">
  <Navbar currentPage="math" />
  <div class="container mt-5">
    <h1 class="text-center">最小公倍數計算</h1>
    <div class="mb-3">
      <label for="numberInput1" class="form-label">輸入第一個數字</label>
      <input type="number" class="form-control" id="numberInput1" placeholder="輸入第一個整數">
    </div>
    <div class="mb-3">
      <label for="numberInput2" class="form-label">輸入第二個數字</label>
      <input type="number" class="form-control" id="numberInput2" placeholder="輸入第二個整數">
    </div>
    <button class="btn btn-primary" id="calculateBtn">計算</button>
    <p class="mt-3" id="result"></p>
  </div>
</BaseLayout>

<script>
  function gcd(a: number, b: number): number {
    return b === 0 ? a : gcd(b, a % b);
  }

  function lcm(a: number, b: number): number {
    return (a * b) / gcd(a, b);
  }

  function displayLCM() {
    const num1 = parseInt((document.getElementById('numberInput1') as HTMLInputElement).value);
    const num2 = parseInt((document.getElementById('numberInput2') as HTMLInputElement).value);
    const resultEl = document.getElementById('result')!;

    if (!isNaN(num1) && !isNaN(num2) && num1 > 0 && num2 > 0) {
      const result = lcm(num1, num2);
      resultEl.innerText = `最小公倍數: ${result}`;
    } else {
      resultEl.innerText = '請輸入兩個大於0的整數';
    }
  }

  document.getElementById('calculateBtn')?.addEventListener('click', displayLCM);
</script>
