---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Navbar from '@/components/Navbar.astro';

// Map Bootstrap color names to Tailwind accent classes
const colorMap: Record<string, { bg: string; hover: string; border: string }> = {
  primary: { bg: 'bg-accent-blue', hover: 'hover:bg-accent-blue/80', border: 'border-accent-blue' },
  success: { bg: 'bg-accent-green', hover: 'hover:bg-accent-green/80', border: 'border-accent-green' },
  info: { bg: 'bg-accent-cyan', hover: 'hover:bg-accent-cyan/80', border: 'border-accent-cyan' },
  warning: { bg: 'bg-accent-yellow', hover: 'hover:bg-accent-yellow/80', border: 'border-accent-yellow' },
  danger: { bg: 'bg-accent-red', hover: 'hover:bg-accent-red/80', border: 'border-accent-red' },
};

interface Tool {
  title: string;
  description: string;
  href: string;
  color: string;
  badge?: string;
}

const tools: Tool[] = [
  {
    title: 'ğŸ§® æ•¸å­¸è¨ˆç®—å™¨',
    description: 'è³ªæ•¸æª¢æŸ¥ã€è³ªå› æ•¸åˆ†è§£ã€æœ€å¤§å…¬å› æ•¸ (GCD)ã€æœ€å°å…¬å€æ•¸ (LCM)',
    href: '/math/gcdlcm',
    color: 'primary'
  },
  {
    title: 'ğŸ¨ å‚…ç«‹è‘‰ç•«ç•«',
    description: 'ç•«ä¸€å€‹åœ–å½¢ï¼Œçœ‹æ—‹è½‰çš„åœ“åœˆå¦‚ä½•åˆ©ç”¨å‚…ç«‹è‘‰ç´šæ•¸é‡ç¹ªå®ƒï¼',
    href: '/math/fourier',
    color: 'success'
  },
  {
    title: 'ğŸ›ï¸ æ³¢å½¢åˆæˆå™¨',
    description: 'ç–ŠåŠ ä¸åŒé »ç‡çš„æ­£å¼¦æ³¢ï¼Œå³æ™‚çœ‹åˆ°æ³¢å½¢èˆ‡é »è­œçš„è®ŠåŒ–',
    href: '/math/waveform',
    color: 'info'
  },
  {
    title: 'ğŸ¹ å‘é‡å…§ç©è¦–è¦ºåŒ–',
    description: 'äº’å‹•å¼è§€å¯Ÿå‘é‡é»ç© (Dot Product) èˆ‡é¤˜å¼¦ç›¸ä¼¼åº¦ (Cosine Similarity) çš„å¹¾ä½•æ„ç¾©',
    href: '/math/dot-product',
    color: 'warning'
  },
  {
    title: 'ğŸš— äº¤é€šæµé«”åŠ›å­¸',
    description: 'æ¨¡æ“¬ç’°å½¢é“è·¯ä¸Šçš„è»Šè¼›è¡Œç‚ºï¼Œè§€å¯Ÿå¹½éˆå¡è»Šå¦‚ä½•ç”¢ç”Ÿèˆ‡å‚³æ’­',
    href: '/math/traffic',
    color: 'danger'
  }
];
---
<BaseLayout title="æ•¸å­¸å·¥å…·">
  <Navbar currentPage="math" />
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-12">
    <h1 class="text-center text-3xl font-bold text-base-50 mb-2">ğŸ“ æ•¸å­¸å·¥å…·</h1>
    <p class="text-center text-base-400 mb-10">å„ç¨®æœ‰è¶£çš„æ•¸å­¸è¦–è¦ºåŒ–èˆ‡è¨ˆç®—å·¥å…·</p>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {tools.map((tool) => {
        const colors = colorMap[tool.color];
        return (
          <div class={`flex flex-col rounded-lg border ${colors.border} bg-base-800 h-full`}>
            <div class="p-5 flex-1">
              <h5 class="text-lg font-semibold text-base-50 mb-2">
                {tool.title}
                {tool.badge && (
                  <span class="ml-2 px-2 py-0.5 text-xs rounded bg-accent-yellow text-base-900">
                    {tool.badge}
                  </span>
                )}
              </h5>
              <p class="text-base-400">{tool.description}</p>
            </div>
            <div class="px-5 pb-5">
              {tool.badge ? (
                <button 
                  class="block w-full text-center px-4 py-2 rounded border border-base-600 text-base-600 cursor-not-allowed"
                  disabled
                >
                  æ•¬è«‹æœŸå¾…
                </button>
              ) : (
                <a 
                  href={tool.href} 
                  class={`block text-center px-4 py-2 rounded ${colors.bg} ${colors.hover} text-base-50 font-medium transition`}
                >
                  é–‹å§‹ä½¿ç”¨
                </a>
              )}
            </div>
          </div>
        );
      })}
    </div>
  </div>
</BaseLayout>

