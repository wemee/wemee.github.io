---
import BaseLayout from '@/layouts/BaseLayout.astro';

// Map Bootstrap color names to Tailwind accent classes
const colorMap: Record<string, { bg: string; hover: string; border: string }> = {
  danger: { bg: 'bg-accent-red', hover: 'hover:bg-accent-red/80', border: 'border-accent-red' },
  info: { bg: 'bg-accent-cyan', hover: 'hover:bg-accent-cyan/80', border: 'border-accent-cyan' },
  warning: { bg: 'bg-accent-yellow', hover: 'hover:bg-accent-yellow/80', border: 'border-accent-yellow' },
  success: { bg: 'bg-accent-green', hover: 'hover:bg-accent-green/80', border: 'border-accent-green' },
  primary: { bg: 'bg-accent-blue', hover: 'hover:bg-accent-blue/80', border: 'border-accent-blue' },
};

const games = [
  {
    title: 'ğŸ§© æ•¸ç¨',
    description: 'ç¶“å…¸æ•¸ç¨éŠæˆ²ï¼é‹ç”¨é‚è¼¯å¡«æ»¿ 9x9 æ–¹æ ¼ï¼Œæ”¯æ´éµç›¤æ“ä½œèˆ‡è¨ˆæ™‚',
    href: '/game/sudoku',
    color: 'danger'
  },
  {
    title: 'âšª åŸºç¤ç¢°æ’',
    description: 'Phaser 3 ç‰©ç†å¼•æ“æ¸¬è©¦ - å®Œå…¨å½ˆæ€§ç¢°æ’å±•ç¤ºï¼Œçƒèˆ‡çƒã€çƒèˆ‡ç‰†å£çš„å‹•é‡å®ˆæ†',
    href: '/game/collision',
    color: 'info'
  },
  {
    title: 'ğŸ® Phaser Demo',
    description: 'ä½¿ç”¨ Phaser 3 å¼•æ“è£½ä½œçš„ç†±è¡€é¢¨æ ¼éŠæˆ² Demoï¼Œæ”¯æ´è§’è‰²ç§»å‹•èˆ‡æ”»æ“Š',
    href: '/game/phaser-demo',
    color: 'warning'
  },
  {
    title: 'ğŸƒ ä¸‹æ¨“æ¢¯',
    description: 'ç¶“å…¸çš„ä¸‹æ¨“æ¢¯éŠæˆ²ï¼å°å¿ƒä¸è¦æ‰å‡ºå»ï¼Œä¹Ÿåˆ¥è¢«é ‚åˆ°é ‚éƒ¨ï¼',
    href: '/game/stairs',
    color: 'success'
  },
  {
    title: 'ğŸ§± æ‰“ç£šå¡Š',
    description: 'ç”¨å½ˆè·³çƒæ‰“ç ´æ‰€æœ‰ç£šå¡Šï¼ç¶“å…¸ Breakout éŠæˆ²çš„ç¾ä»£æ¼”ç¹¹',
    href: '/game/breakout',
    color: 'primary'
  },
  {
    title: 'ğŸ è²ªåƒè›‡',
    description: 'ç¶“å…¸è²ªåƒè›‡éŠæˆ²ï¼æ§åˆ¶å°è›‡åƒé£Ÿç‰©ï¼Œè¶Šé•·è¶Šå¥½ï¼Œåˆ¥æ’ç‰†ä¹Ÿåˆ¥å’¬åˆ°è‡ªå·±ï¼',
    href: '/game/snake',
    color: 'success'
  }
];
---
<BaseLayout currentPage="game" currentPage="game" title="éŠæˆ²">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-12">
    <h1 class="text-center text-3xl font-bold text-base-50 mb-2">ğŸ® éŠæˆ²</h1>
    <p class="text-center text-base-400 mb-10">ç”¨ Canvas æ‰“é€ çš„å°éŠæˆ²</p>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 justify-items-center">
      {games.map((game) => {
        const colors = colorMap[game.color];
        return (
          <div class={`flex flex-col rounded-lg border ${colors.border} bg-base-800 h-full w-full max-w-sm`}>
            <div class="p-5 flex-1">
              <h5 class="text-lg font-semibold text-base-50 mb-2">{game.title}</h5>
              <p class="text-base-400">{game.description}</p>
            </div>
            <div class="px-5 pb-5">
              <a href={game.href} class={`block text-center px-4 py-2 rounded ${colors.bg} ${colors.hover} text-base-50 font-medium transition`}>
                é–‹å§‹éŠæˆ²
              </a>
            </div>
          </div>
        );
      })}
    </div>
  </div>
</BaseLayout>

