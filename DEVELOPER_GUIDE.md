# é–‹ç™¼è€…æŒ‡å— (Developer Guide)

æœ¬æ–‡ä»¶æ—¨åœ¨å”åŠ©é–‹ç™¼è€…å¿«é€Ÿä¸Šæ‰‹æœ¬ Astro å°ˆæ¡ˆï¼Œä¸¦è¦ç¯„é–‹ç™¼æµç¨‹ä»¥ç¢ºä¿ç¨‹å¼ç¢¼å“è³ªèˆ‡ç¶²ç«™ä¸€è‡´æ€§ã€‚

## 1. å¿«é€Ÿå•Ÿå‹• (Quick Start)

é–‹å•Ÿçµ‚ç«¯æ©Ÿ (Terminal)ï¼Œé€²å…¥å°ˆæ¡ˆæ ¹ç›®éŒ„å¾ŒåŸ·è¡Œï¼š

```bash
# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ (åŒ…å«ç·¨è­¯èˆ‡ Hot Reload)
npm run dev -- --host
```

- é è¨­ç¶²å€ï¼š`http://localhost:4321`
- åŠ ä¸Š `--host` å¯å…è¨±å±€åŸŸç¶²å¤–éƒ¨é€£æ¥ï¼ˆæ–¹ä¾¿æ‰‹æ©Ÿæ¸¬è©¦ï¼‰ã€‚
- **æ³¨æ„**ï¼šè«‹å‹¿ä½¿ç”¨ Python SimpleHTTPServerï¼Œå› ç‚º `.astro` æª”æ¡ˆéœ€è¦ Node.js å³æ™‚ç·¨è­¯æ‰èƒ½é‹ä½œã€‚

å¦‚æœä½ éœ€è¦é è¦½æœ€çµ‚æ‰“åŒ…å¾Œçš„çµæœï¼š
```bash
npm run build
npm run preview
```

---

## 2. å°ˆæ¡ˆçµæ§‹ (Project Structure)

æ ¸å¿ƒç›®éŒ„èˆ‡ç”¨é€”èªªæ˜ï¼š

- **`src/pages/`**ï¼šè·¯ç”±é é¢ã€‚
    - `/game/`ï¼šéŠæˆ²é¡é é¢ã€‚
    - `/math/`ï¼šæ•¸å­¸å·¥å…·é é¢ã€‚
    - `/tools/`ï¼šå…¶ä»–å¯¦ç”¨å·¥å…·ã€‚
- **`src/components/`**ï¼šå¯é‡ç”¨çš„ UI çµ„ä»¶ (å¦‚ `Navbar.astro`, `Footer.astro`)ã€‚
- **`src/layouts/`**ï¼šé é¢ä½ˆå±€æ¨¡ç‰ˆ (å¦‚ `BaseLayout.astro`)ï¼Œè² è²¬çµ±ä¸€ `<head>` èˆ‡æ¨£å¼å¼•ç”¨ã€‚
- **`src/lib/`** (New)ï¼šç´”é‚è¼¯èˆ‡é¡åˆ¥åº«ã€‚
    - `/math/`ï¼šå­˜æ”¾æ•¸å­¸å·¥å…·çš„æ ¸å¿ƒé‚è¼¯ (å¦‚ `VectorVisualizer.ts`)ï¼Œå°‡è¨ˆç®—èˆ‡ç¹ªåœ–å¾ UI ä¸­æŠ½é›¢ã€‚
- **`src/styles/`** (New)ï¼šå…¨ç«™é€šç”¨æ¨£å¼ã€‚
    - `global.css`ï¼šå®šç¾©å…±ç”¨çš„ Utility Classesã€‚

---

## 3. é–‹ç™¼è¦ç¯„èˆ‡ SOP (Standards & Procedures)

### âœ¨ æ–°å¢é é¢æª¢æŸ¥è¡¨ (New Page Checklist)
**æ¯æ¬¡æ–°å¢ä¸€å€‹æ–°åŠŸèƒ½æˆ–é é¢æ™‚ï¼Œè«‹å‹™å¿…åŸ·è¡Œä»¥ä¸‹æª¢æŸ¥ï¼š**

1.  **å»ºç«‹é é¢**ï¼šåœ¨ `src/pages/` ä¸‹å»ºç«‹ `.astro` æª”æ¡ˆã€‚
2.  **å¥—ç”¨ Layout**ï¼šå¿…é ˆä½¿ç”¨ `<BaseLayout>` åŒ…è¦†å…§å®¹ï¼Œä¸¦è¨­å®šæ­£ç¢ºçš„ `pageTitle`ã€‚
3.  **å°èˆªæ¬„ (Navbar) [é‡è¦!]**ï¼š
    - Astro **ä¸æœƒ** è‡ªå‹•æ›´æ–°å°èˆªé¸å–®ã€‚
    - è«‹æ‰‹å‹•ç·¨è¼¯ `src/components/Navbar.astro`ã€‚
    - å°‡æ–°é€£çµåŠ å…¥å°æ‡‰çš„ä¸‹æ‹‰é¸å–® (Dropdown) ä¸­ã€‚
4.  **å…¥å£åˆ—è¡¨ (Index)**ï¼š
    - å¦‚æœæ˜¯æ•¸å­¸å·¥å…·ï¼Œè«‹æ›´æ–° `src/pages/math/index.astro` çš„åˆ—è¡¨ã€‚
    - å¦‚æœæ˜¯éŠæˆ²ï¼Œè«‹æ›´æ–° `src/pages/game/index.astro`ã€‚
5.  **æ¨£å¼ä¸€è‡´æ€§**ï¼š
    - è‹¥éœ€è¦æ·±è‰²åŠé€æ˜å¡ç‰‡ï¼Œè«‹ä½¿ç”¨ `class="card card-glass-dark"` (å®šç¾©æ–¼ `global.css`) ä»¥ç¢ºä¿å…¨ç«™è¦–è¦ºçµ±ä¸€ã€‚

### ğŸ¨ æ¨£å¼æŒ‡å— (Style Guide)
- æœ¬ç«™ä¸»è¦ä½¿ç”¨ **Bootswatch Solar** ä¸»é¡Œã€‚
- è‡ªå®šç¾©æ¨£å¼è«‹å„ªå…ˆå¯«åœ¨ `src/styles/global.css`ï¼Œé¿å… Inline Styleã€‚
- **`.card-glass-dark`**ï¼šå…¨ç«™é€šç”¨çš„é«˜å°æ¯”åŠé€æ˜å¡ç‰‡ï¼Œé©ç”¨æ–¼è§£é‡‹èªªæ˜å€å¡Šã€‚

---

## 4. ç™¼ä½ˆç­–ç•¥ (Release Strategy)

æœ¬å°ˆæ¡ˆæ¡ç”¨ **Feature Branch** é–‹ç™¼æ¨¡å¼ï¼Œä»¥ç¶­æŒ `main` åˆ†æ”¯çš„ç©©å®šæ€§ã€‚

### é–‹ç™¼æµç¨‹
1.  **é–‹åˆ†æ”¯**ï¼šç‚ºæ¯å€‹æ–°åŠŸèƒ½å‰µå»ºåˆ†æ”¯ (e.g., `feature/dot-product-viz`)ã€‚
2.  **é–‹ç™¼èˆ‡æäº¤**ï¼šåœ¨åˆ†æ”¯ä¸Šé€²è¡Œé–‹ç™¼ã€‚
3.  **åˆä½µç™¼ä½ˆ (Release)**ï¼š

```bash
# 1. åˆ‡æ›å›ä¸»åˆ†æ”¯ä¸¦æ›´æ–°
git checkout main
git pull

# 2. åˆä½µåŠŸèƒ½åˆ†æ”¯
git merge feature/your-feature-name

# 3. æª¢æŸ¥å…§å®¹èˆ‡é€£çµ (Navbar æœ‰åŠ äº†å—ï¼Ÿ)
npm run build

# 4. æ¨é€ä¸Šç·š
git push

# 5. (å¯é¸) åˆªé™¤å·²åˆä½µåˆ†æ”¯
git branch -d feature/your-feature-name
```

## 1. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

é–‹å•Ÿçµ‚ç«¯æ©Ÿ (Terminal)ï¼Œé€²å…¥å°ˆæ¡ˆæ ¹ç›®éŒ„å¾ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š

```bash
npm run dev -- --port 4321 --host
```

### åƒæ•¸èªªæ˜ï¼š
- `npm run dev`ï¼šåŸ·è¡Œ Astro é–‹ç™¼æ¨¡å¼ã€‚
- `--`ï¼šç¢ºä¿å¾Œé¢çš„åƒæ•¸èƒ½æ­£ç¢ºå‚³éçµ¦ Astroã€‚
- `--port 4321`ï¼šæŒ‡å®šä½¿ç”¨ 4321 ç«¯å£ã€‚
- `--host`ï¼šå…è¨±å±€åŸŸç¶²å¤–éƒ¨é€£æ¥ï¼ˆæ–¹ä¾¿æ‰‹æ©Ÿæ¸¬è©¦ï¼‰ã€‚

## 2. ç‚ºä»€éº¼ä¸èƒ½ç”¨ `python3 -m http.server`ï¼Ÿ

åœ¨é–‹ç™¼éç¨‹ä¸­ **ä¸èƒ½** ç›´æ¥ç”¨ Python çš„ä¼ºæœå™¨å–ä»£ `npm run dev`ï¼ŒåŸå› å¦‚ä¸‹ï¼š
- **éœ€è¦ç·¨è­¯**ï¼šAstro çš„ `.astro` æª”æ¡ˆéœ€è¦ç¶“ç”± Node.js é€²è¡Œå³æ™‚ç·¨è­¯ï¼Œç€è¦½å™¨æ‰çœ‹å¾—æ‡‚ã€‚Python Server åªæœƒå‚³é€åŸå§‹ç¢¼ï¼Œå°è‡´ç¶²é ç„¡æ³•é‹ä½œã€‚
- **Hot Reload**ï¼š`npm run dev` æ”¯æ´å­˜æª”å³æ™‚æ›´æ–°ï¼ŒPython Server å‰‡ç„¡æ­¤åŠŸèƒ½ã€‚

**ä¾‹å¤–æƒ…æ³**ï¼šå¦‚æœæ‚¨åŸ·è¡Œäº† `npm run build` ä¸¦ç”¢ç”Ÿäº† `dist/` è³‡æ–™å¤¾ï¼Œæ‚¨å¯ä»¥åœ¨ `dist` ç›®éŒ„å…§ä½¿ç”¨ Python Server ä¾†é è¦½æœ€çµ‚æˆå“ã€‚

---

## 3. é—œé–‰æœå‹™

### æ­£å¸¸é—œé–‰ï¼ˆæ¨è–¦ï¼‰
åœ¨é‹è¡Œæœå‹™çš„çµ‚ç«¯æ©Ÿè¦–çª—ä¸­ç›´æ¥æŒ‰ä¸‹å¿«æ·éµï¼š
`Ctrl + C`

### å¼·åˆ¶é—œé–‰ï¼ˆè‹¥ç«¯å£è¢«ä½”ç”¨ï¼‰
å¦‚æœæœå‹™æ²’é—œå¥½å°è‡´ 4321 ç«¯å£è¢«ä½”ç”¨ï¼Œå¯ä»¥åŸ·è¡Œï¼š
```bash
lsof -ti:4321 | xargs kill -9
```

---

## 3. å¸¸ç”¨è·¯å¾‘
- **éŠæˆ²é é¢**ï¼š`src/pages/game/`
- **éƒ¨è½æ ¼æ–‡ç« **ï¼š`src/content/blog/`
- **å…±ç”¨çµ„ä»¶**ï¼š`src/components/`

---

## ğŸš€ ç™¼ä½ˆç­–ç•¥èˆ‡æ’ç¨‹ (Release Schedule)

ç‚ºäº†æœ€å¤§åŒ– SEO æ•ˆç›Šï¼ˆæ»´çŒå¼è¡ŒéŠ·ï¼‰ä¸¦ç¶­æŒç¶²ç«™æ´»èºåº¦ï¼Œæˆ‘å€‘æ¡ç”¨ **Feature Branch æ’éšŠç™¼ä½ˆ** çš„ç­–ç•¥ã€‚
**æ ¸å¿ƒåŸå‰‡**ï¼šä¸è¦ä¸€æ¬¡æ€§ç™¼ä½ˆå¤§é‡å…§å®¹ã€‚æ¯æ¬¡ç™¼ä½ˆä¸€ç¯‡ï¼Œä¸¦åœ¨ç™¼ä½ˆä¸‹ä¸€ç¯‡æ™‚ï¼Œå›é ­æ›´æ–°ä¸Šä¸€ç¯‡çš„ã€Œä¸‹é›†å¾…çºŒã€é€£çµã€‚

### ğŸ“… ç›®å‰å¾…ç™¼ä½ˆæ¸…å–® (Release Queue)

| é †åº | é è¨ˆå…§å®¹ | åˆ†æ”¯åç¨± (Branch) | ç™¼ä½ˆå…§å®¹èˆ‡æ“ä½œé‡é» |
| :--- | :--- | :--- | :--- |
| **1 (Next)** | Blog Part 2: Creation | `feature/blog-part2` | 1. ç¢ºä¿ Part 1 æ–‡æœ«çš„é€£çµå·²å¾ç´”æ–‡å­—æ”¹ç‚ºè¶…é€£çµã€‚<br>2. ç™¼ä½ˆ Part 2 æ–‡ç« ã€‚ |
| **2** | Blog Part 3: Agency | `feature/blog-part3` | 1. ç¢ºä¿ Part 2 æ–‡æœ«çš„é€£çµå·²å¾ç´”æ–‡å­—æ”¹ç‚ºè¶…é€£çµã€‚<br>2. ç™¼ä½ˆ Part 3 æ–‡ç« ã€‚ |
| **3** | (Future Games/Tools) | `feature/xxx` | (ä»¥æ­¤é¡æ¨ï¼Œæ–°åŠŸèƒ½å»ºè­°å…ˆé–‹åˆ†æ”¯) |

### ğŸ› ï¸ ç™¼ä½ˆæ“ä½œæŒ‡å¼• (SOP)

ç•¶æ±ºå®šè¦ç™¼ä½ˆä¸‹ä¸€å€‹åŠŸèƒ½æ™‚ï¼Œè«‹åŸ·è¡Œä»¥ä¸‹æ­¥é©Ÿï¼š

```bash
# 1. åˆ‡æ›å›ä¸»åˆ†æ”¯ä¸¦æ›´æ–°
git checkout main
git pull

# 2. åˆä½µä¸‹ä¸€å€‹é †ä½çš„åŠŸèƒ½åˆ†æ”¯ (ä¾‹å¦‚ç™¼ä½ˆ Part 2)
git merge feature/blog-part2

# 3. æª¢æŸ¥å…§å®¹èˆ‡é€£çµæ˜¯å¦æ­£ç¢º (é‡è¦ï¼æª¢æŸ¥ä¸Šä¸€ç¯‡çš„é€£çµæ˜¯å¦ç”Ÿæ•ˆ)
npm run dev

# 4. æ¨é€ä¸Šç·š
git push

# 5. (å¯é¸) åˆªé™¤å·²åˆä½µçš„åˆ†æ”¯
git branch -d feature/blog-part2
```
